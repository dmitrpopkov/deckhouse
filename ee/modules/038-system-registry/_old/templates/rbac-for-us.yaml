# ##### For specific registryMode
# {{- if $.Values.systemRegistry.registryMode }}
# {{- if not (eq $.Values.systemRegistry.registryMode "Direct")  }}
# #####

# ---
# apiVersion: v1
# kind: ServiceAccount
# metadata:
#   name: {{ .Chart.Name }}
#   namespace: d8-system
#   {{- include "helm_lib_module_labels" (list . (dict "app" .Chart.Name )) | nindent 2 }}
# ---
# kind: Role
# apiVersion: rbac.authorization.k8s.io/v1
# metadata:
#   name: {{ .Chart.Name }}
#   namespace: d8-system
#   {{- include "helm_lib_module_labels" (list . (dict "app" .Chart.Name )) | nindent 2 }}
# rules:
# - apiGroups: [""]
#   resources: ["pods", "services", "endpoints"]
#   verbs: ["get", "watch", "list"]
# - apiGroups: ["apps"]
#   resources: ["daemonsets"]
#   verbs: ["get", "watch", "list"]
# - apiGroups: ["coordination.k8s.io"]
#   resources: ["leases"]
#   verbs: ["get", "watch", "list", "delete", "update", "create"]
# - apiGroups: [""]
#   resources: ["events"]
#   verbs: ["get", "list", "update", "create"]
# ---
# kind: RoleBinding
# apiVersion: rbac.authorization.k8s.io/v1
# metadata:
#   name: {{ .Chart.Name }}
#   namespace: d8-system
#   {{- include "helm_lib_module_labels" (list . (dict "app" .Chart.Name )) | nindent 2 }}
# subjects:
# - kind: ServiceAccount
#   name: {{ .Chart.Name }}
#   namespace: d8-system
# roleRef:
#   kind: Role
#   name: {{ .Chart.Name }}
#   apiGroup: rbac.authorization.k8s.io
# ---
# kind: ClusterRole
# apiVersion: rbac.authorization.k8s.io/v1
# metadata:
#   name: d8:{{ .Chart.Name }}
#   {{- include "helm_lib_module_labels" (list . (dict "app" .Chart.Name )) | nindent 2 }}
# rules:
#   - apiGroups: [""]
#     resources: ["nodes"]
#     verbs: ["get", "list", "watch"]
# ---
# kind: ClusterRoleBinding
# apiVersion: rbac.authorization.k8s.io/v1
# metadata:
#   name: d8:{{ .Chart.Name }}
#   {{- include "helm_lib_module_labels" (list . (dict "app" .Chart.Name )) | nindent 2 }}
# subjects:
#   - kind: ServiceAccount
#     name: {{ .Chart.Name }}
#     namespace: d8-system
# roleRef:
#   kind: ClusterRole
#   name: d8:{{ .Chart.Name }}
#   apiGroup: rbac.authorization.k8s.io

# ##### For specific registryMode
# {{- end }}
# {{- end }}
# #####
